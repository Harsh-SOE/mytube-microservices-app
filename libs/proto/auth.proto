syntax = "proto3";
package Auth;

message AuthSignupDto {
  string userName = 2;
  string email = 3;
  string password = 4;
  string fullName = 5;
  string dob = 6;
  string avatar = 7;
  optional string coverImage = 8;
}

message AuthChangePasswordDto {
  string id = 1;
  string oldPassword = 2;
  string newPassword = 3;
}

message AuthSigninDto {
  string userName = 1;
  string password = 2;
}

message AuthDeleteUserCredentialsDto {
  string id = 1;
}

message AuthSignupResponse {
  string id = 1;
  string userName = 2;
  string email = 3;
  string fullName = 4;
  string dob = 5;
  string avatar = 6;
  optional string coverImage = 7; 
}

message AuthChangePasswordResponse {
  bool response = 1;
}

message AuthSigninResponse {
  string token = 1;
}

message AuthDeleteUserCredentialsResponse {
  string response = 1;
}

message AuthHealthCheckRequest {
  string service = 1;
}

message AuthHealthCheckResponse {
  enum ServingStatus {
    UNKNOWN = 0;
    SERVING = 1;
    NOT_SERVING = 2;
    SERVICE_UNKNOWN = 3;
  }
  ServingStatus status = 1;
}

service AuthService {
  rpc signup(AuthSignupDto) returns (AuthSignupResponse) {}
  rpc signin(AuthSigninDto) returns (AuthSigninResponse) {}
  rpc changePassword(AuthChangePasswordDto) returns (AuthChangePasswordResponse) {}
  rpc deleteUserCredentials(AuthDeleteUserCredentialsDto) returns (AuthDeleteUserCredentialsResponse) {}
  rpc Check (AuthHealthCheckRequest) returns (AuthHealthCheckResponse) {};
}